<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>REGISTRATION</title>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.js" integrity="sha512-RjvSEaeDqPCfUVQ9kna2/2OqHz/7F04IOl1/66LmQjB/lOeAzwq7LrbTzDbz5cJzlPNJ5qteNtHR56XaJSTNWw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  
</head>
<body>

  <div class="container">
      <div class="row justify-content-center mt-5">
         <div class="col-lg-6">
              <form  method="post" id="myform"  >
                <h3 class="text-center mb-4">REGISTRATION FORM</h3>
                  <div class=" mb-3">
                    <label  class="form-label">
                      FirstName</label>
                      <input type="text" class="form-control" name="firstName" placeholder="Enter FirstName" id="FirstName" required>
                    
                  </div>
                  <div class="mb-3">
                    <label class="form-label" >
                      LastName</label>
                      <input type="text" class="form-control"  name="lastName" placeholder="Enter LastName" id="lastName"  required>
                    
                  </div>
                    <div class="mb-3">
                      <label class="form-label">
                        Email </label>
                        <input type="email"  class="form-control" name="email" placeholder="Enter Email" id="email" required>
                     
                    </div>
                    <div class=" mb-3">
                      <label class="form-label" >
                        Address </label>
                        <input type="text" class="form-control" name="address" placeholder="Enter Address" id="Address" required>
                     
                    </div>
                    <div class=" mb-3">
                      <label class="form-label" >  Password</label>
                      <input type="password" class="form-control" id=" password"  name="password" placeholder="Enter Password" required>
                    </div>
                    
                     
                      <button type="submit" class="btn btn-primary">submit</button>
                  
                 

              </form>
        </div>
      </div>
  </div>
   <script>
      // const form =document.getElementById('form');

      // form.addEventListener('submit',function(e){
      //   e.preventDefault();
      //    const payload = new FormData(form);
      //    console.log([...payload]);

      //    fetch('http://localhost:8080/api/voter/save',{
      //     method:"POST",
      //     body:payload,
      //    })
      //    .then(res =>res.json())
      //    .then(data =>console.log(data))
      //    .catch(err => console.log(err));

      // }) 
   
    // const form = document.getElementById('form');
    // form.addEventListener('submit',(event)=>{
    //   event.preventDefault();
    //   let FirstName =document.getElementById('FirstName');
    //   let  LastName =document.getElementById(' LastName');
    //   let  Email =document.getElementById(' Email');
    //   let Address =document.getElementById('Address');
      
      // let  Password =document.getElementById(' Password');

      // axios.post('http://localhost:8080/api/voter/save',{FirstName,LastName, Email,Address})
      // .then(response =>{
      //    console.log(response.data);
      // })
      // .catch(error =>{
      //   console.error(error);
      // });

     
    // });
    // fetch('localhost:8080/api/voter/Voter')
    //   .then(response=>{
    //     console.log(response)
    //   })



      
    // fetch('https://jsonplaceholder.typicode.com/user')
    //   .then(response=>{
    //     console.log(response.data)
    //   })

// FETCH POST IN VOTER TABLE

const form = document.querySelector('#myform');
form.addEventListener('submit', (event) => {
  event.preventDefault();
  let FirstName =document.getElementById('FirstName');
      let  LastName =document.getElementById(' LastName');
      let  Email =document.getElementById(' email');
      let Address =document.getElementById('Address');
      let Password =document.getElementById('password');

  const formData = new FormData(form);
  const voter = Object.fromEntries(formData.entries());

  fetch('http://localhost:8080/api/voter/save', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(voter)
  })
  .then(response => response.json())
  .then(data => {
    console.log('User created:', data);
    window.location.href = 'Login.html';
    // Handle success or display a success message
    alert("Save successful");
  })
  .catch(error => {
    console.error('Error creating user:', error);
    // Handle error or display an error message
  });
});



  </script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
  
</body>
</html>